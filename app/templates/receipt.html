{% extends 'base.html' %}
{% block content %}
<body>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/queue.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <div id="div_receipt_img"></div>
    <script type="text/javascript">
        var svg = d3.select("#div_receipt_img")
            .append("svg")
            .attr("width", 200)
            .attr("height", 100)
            .style("border", "1px solid black")
            .style("background-color", "green");

        var text = svg.selectAll("text")
            .data([0])
            .enter()
            .append("text")
            .text("Testing")
            .attr("x", "40")
            .attr("y", "60");

        var imgs = svg.selectAll("img").data([0]);
            imgs.enter()
            .append("svg:img")
            .attr("xlink:href", "file:{{img_path}}")
            .attr("x", "60")
            .attr("y", "60")
            .attr("width", "20")
            .attr("height", "20");

    </script>

    <div class="container  overflow-hidden">
        <div class="row gy-4">
            <h1>Receipt recognition</h1>
            <h2>Image path is: {{img_path}}</h2>
            <img class="card-img" src={{img_path}} alt="Card image cap">
            <!-- <img class="card-img" src='data:image/png;base64,{{img_path}}' alt="Card image cap"> -->
            <img src={{img_path}} alt="My Image">
            <p> {{ url_for('{{img_path}}') }}</p>
            <p>{{receipt_info}}</p>
        </div>
    </div>
</body>
{% endblock %}

